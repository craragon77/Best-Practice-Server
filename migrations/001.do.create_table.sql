CREATE TABLE IF NOT EXISTS users(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL ON DELETE CASCADE,
    username TEXT NOT NULL,
    password TEXT NOT NULL
);
CREATE TABLE IF NOT EXISTS songs(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL ON DELETE CASCADE,
    title TEXT NOT NULL,
    composer TEXT NOT NULL
);
CREATE TABLE IF NOT EXISTS user_songs(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL NOT NULL ON DELETE CASCADE,
    user_id INTEGER NOT NULL REFERENCES users(id),
    song_id INTEGER NOT NULL REFERENCES songs(id),
    difficulty TEXT NOT NULL,
    instrument TEXT NOT NULL,
    desired_hours INTEGER NOT NULL,
    comments TEXT,
    date_added TIMESTAMPTZ NOT NULL DEFAULT now()
);
CREATE TABLE IF NOT EXISTS practice_history(
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    song_practiced INTEGER NOT NULL REFERENCES user_songs(id),
    start_time TIMESTAMPTZ NOT NULL,
    end_time TIMESTAMPTZ NOT NULL
);